<ion-modal-view>
    <ion-header-bar class="bar-dark">
        <h1 class="title">
            Sign Up
        </h1>
        <button class="button" ng-click="supModal.hide()">
            Cancel
        </button>
    </ion-header-bar>
    <ion-content class="padding">
        <div class="list">
            <label class="item item-input item-floating-label">
                <span class="input-label">First Name</span>
                <input type="text" placeholder="First Name">
            </label>

            <label class="item item-input item-floating-label">
                <span class="input-label">Last Name</span>
                <input type="text" placeholder="Last Name">
            </label>

            <label class="item item-input item-floating-label">
                <span class="input-label">Email</span>
                <input type="email" placeholder="Email">
            </label>

            <label class="item item-input item-floating-label">
                <span class="input-label">Password</span>
                <input type="password" placeholder="Password">
            </label>

            <label class="item item-input item-floating-label">
                <span class="input-label">Student ID</span>
                <input type="text" placeholder="Student ID (if applicable)">
            </label>
        </div>
        <p>
            <a class="button button-block button-calm" ng-click="supModal.hide()" href="#/main/yourJobs">Submit</a>
        </p>
    </ion-content>
</ion-modal-view>
<!--<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <link href="../lib/ionic/css/ionic.css" rel="stylesheet">
    <script src="../lib/ionic/js/ionic.bundle.js"></script>

    <title>Sign Up</title>

    <link href="../css/style.css" rel="stylesheet">

    <script src="https://www.gstatic.com/firebasejs/3.4.1/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.4.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.4.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.4.0/firebase-database.js"></script>
    <script src="../js/controller.js"></script>
    <script>

			var config = {
				apiKey: "AIzaSyCHR-0k19eg0OlsVrbXd8rOcSuTthnkRxA",
				authDomain: "jobr-145820.firebaseapp.com",
				databaseURL: "https://jobr-145820.firebaseio.com",
				storageBucket: "jobr-145820.appspot.com",
				messagingSenderId: "162266239494"
			};
			firebase.initializeApp(config);
			var database = firebase.database();
			angular.module('signup', [])
			.controller('MainCtrl', function ($scope) {

				$scope.showsemail = function () {
					$scope.semailpanel = true;
				};

				$scope.createAccount = function () {
					var name = $scope.name1 + $scope.name2;
					var email = $scope.email;
					var password = $scope.password;
					var semail = $scope.semail;

					var failed1 = false;
					var failed2 = false;
					var failed3 = false;
					var failed4 = false;
					if ($scope.semailpanel && semail && semail.length >= 4) {
						if (!semail.substr(0, email.indexOf('@')).match('/^[a-z0-9]+$/i')) {
							$scope.semailfail = 'Please enter a valid .edu email.';
							failed3 = true;
						}
						else {
							$scope.semailfail = '';
							failed3 = false;
						}
						if (!semail.endsWith(".edu")) {
							$scope.semailfail = 'Please enter a valid .edu email.';
							failed4 = true;
						}
						else {
							$scope.semailfail = '';
							failed4 = false;
						}
					}
					else if (!semail || semail.length < 4) {
						semail = "";
					}
					if (password.length < 7 || password.length > 22) {
						$scope.passfail1 = 'Passwords must be between 7 and 22 characters, please.';
						failed1 = true;
					}
					else {
						$scope.passfail1 = '';
						failed1 = false;
					}
					if (password.match(/\d+/g) == null) {
						$scope.passfail2 = 'Make sure your password contains at least 1 number.';
						failed2 = true;
					}
					else {
						$scope.passfail2 = '';
						failed2 = false;
					}
					if (failed1 || failed2 || failed3 || failed4) {
						return;
					}
					var superFail = false;
					firebase.auth().createUserWithEmailAndPassword(email, password).catch(function (error) { superfail = true; });

					if (superFail) {
						alert("ERROR present in creating account. Try again later.");
						return;
					}

					firebase.database().ref('/users/' + firebase.auth().currentUser.uid).set({
						aName: name,
						aSemail: semail,
						postedJobs: ['1'],
						acceptedJobs: ['1'],
						reviewRating: 1
					});
					supModal.remove();
					window.location = '/main/yourJobs';
				};
			});

    </script>
</head>

<body ng-app="signup" ng-controller="MainCtrl">
    <ion-modal-view view-title="Sign Up">
        <ion-header-bar class="bar-dark">
            <h1 class="title">
                Sign Up
            </h1>
            <button class="button" ng-click="supModal.hide()">
                Cancel
            </button>
        </ion-header-bar>
        <ion-content class="padding">
            <div class="list">
                <label class="item item-input item-floating-label">
                    <span class="input-label">First Name</span>
                    <input type="text" ng-model="name1" id="name1" placeholder="First Name" autofocus required>
                </label>

                <label class="item item-input item-floating-label">
                    <span class="input-label">Last Name</span>
                    <input type="text" ng-model="name2" id="name2" placeholder="Last Name" required>
                </label>

                <label class="item item-input item-floating-label">
                    <span class="input-label">Email</span>
                    <input type="email" ng-model="email" id="email" placeholder="Email" required>
                </label>

                <label class="item item-input item-floating-label">
                    <span class="input-label">Password</span>
                    <input type="password" ng-model="password" id="password" placeholder="Password" required>
                    <span class="verror" ng-bind="passfail1"></span>
                    <span class="verror" ng-bind="passfail2"></span>
                </label>

                <!--<div ng-model="studentprompt" ng-hide="semailpanel" class="ng-hide">
                    <button class="button button-clear button-block button-large button-royal" id="isstudent" ng-click="showsemail()" >I am a Student</button>
                </div>
                <div ng-show="semailpanel" class="ng-hide">
                    <label class="item item-input item-floating-label">
                        <span class="input-label">Student Email</span>
                        <input type="text" ng-model="semail" id="semail" placeholder="Student ID">
                        <span class="verror" ng-bind="semailfail"></span>
                    </label>
                </div>-- >
            </div>
            <div><button class="button button-block button-calm" id="signup" ng-click="createAccount()">Sign Up</button></div>
        </ion-content>
    </ion-modal-view>
</body>
</html>-->